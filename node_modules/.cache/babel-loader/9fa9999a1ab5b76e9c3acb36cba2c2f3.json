{"ast":null,"code":"import _classCallCheck from \"/Users/edvinmodigh/PycharmProjects/tentahelper/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/edvinmodigh/PycharmProjects/tentahelper/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/edvinmodigh/PycharmProjects/tentahelper/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/edvinmodigh/PycharmProjects/tentahelper/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/edvinmodigh/PycharmProjects/tentahelper/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/edvinmodigh/PycharmProjects/tentahelper/src/Login.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './Login.css';\nimport auth from './firebase';\nimport App from './App';\nexport var logoutUser = function logoutUser() {\n  auth().signOut();\n};\nvar FBprovider = new auth.FacebookAuthProvider();\nauth().setPersistence(auth.Auth.Persistence.SESSION);\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: auth().currentUser,\n      loading: true\n    };\n\n    _this.loginFB = function () {\n      auth().signInWithPopup(FBprovider).then(function (_ref) {\n        var user = _ref.user;\n\n        _this.setState({\n          user: user\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setAuthObserver();\n    }\n  }, {\n    key: \"setAuthObserver\",\n    value: function setAuthObserver() {\n      var _this2 = this;\n\n      return auth().onAuthStateChanged(function (user) {\n        return _this2.setState({\n          user: user,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var user = this.state.user;\n\n      if (this.state.loading) {\n        return null;\n      }\n\n      if (user) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(App, {\n          user: user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"App\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"header\", {\n          className: \"App-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: logo,\n          className: \"App-logo\",\n          alt: \"logo\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Not logged in\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this3.loginFB();\n          },\n          type: \"button\",\n          class: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Login\")));\n      }\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/Users/edvinmodigh/PycharmProjects/tentahelper/src/Login.js"],"names":["React","Component","auth","App","logoutUser","signOut","FBprovider","FacebookAuthProvider","setPersistence","Auth","Persistence","SESSION","Login","state","user","currentUser","loading","loginFB","signInWithPopup","then","setState","setAuthObserver","onAuthStateChanged","logo"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;AAGA,OAAO,aAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC5BF,EAAAA,IAAI,GAAGG,OAAP;AACH,CAFM;AAIP,IAAMC,UAAU,GAAG,IAAIJ,IAAI,CAACK,oBAAT,EAAnB;AACAL,IAAI,GAAGM,cAAP,CAAsBN,IAAI,CAACO,IAAL,CAAUC,WAAV,CAAsBC,OAA5C;;IAGqBC,K;;;;;;;;;;;;;;;;;UAEjBC,K,GAAQ;AACJC,MAAAA,IAAI,EAAEZ,IAAI,GAAGa,WADT;AAEJC,MAAAA,OAAO,EAAE;AAFL,K;;UAKRC,O,GAAU,YAAM;AACZf,MAAAA,IAAI,GAAGgB,eAAP,CAAuBZ,UAAvB,EACKa,IADL,CACU,gBAAY;AAAA,YAAVL,IAAU,QAAVA,IAAU;;AACd,cAAKM,QAAL,CAAc;AAACN,UAAAA,IAAI,EAAJA;AAAD,SAAd;AACH,OAHL;AAIH,K;;;;;;;wCAEmB;AAChB,WAAKO,eAAL;AACH;;;sCAEiB;AAAA;;AACd,aAAOnB,IAAI,GAAGoB,kBAAP,CAA0B,UAAAR,IAAI;AAAA,eAAI,MAAI,CAACM,QAAL,CAAc;AAACN,UAAAA,IAAI,EAAJA,IAAD;AAAOE,UAAAA,OAAO,EAAE;AAAhB,SAAd,CAAJ;AAAA,OAA9B,CAAP;AACH;;;6BAEQ;AAAA;;AAAA,UACGF,IADH,GACW,KAAKD,KADhB,CACGC,IADH;;AAEL,UAAI,KAAKD,KAAL,CAAWG,OAAf,EAAyB;AAAE,eAAO,IAAP;AAAc;;AAEzC,UAAIF,IAAJ,EAAU;AACN,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,GAAD;AAAK,UAAA,IAAI,EAAEA,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAKH,OAND,MAMO;AACH,eAAS;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACL;AAAQ,UAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,GAAG,EAAES,IAAV;AAAgB,UAAA,SAAS,EAAC,UAA1B;AAAqC,UAAA,GAAG,EAAC,MAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,EAKI;AAAQ,UAAA,OAAO,EAAE,mBAAM;AACnB,YAAA,MAAI,CAACN,OAAL;AACH,WAFD;AAEG,UAAA,IAAI,EAAC,QAFR;AAEiB,UAAA,KAAK,EAAC,iBAFvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALJ,CADK,CAAT;AAYH;AAEJ;;;;EA/C8BhB,S;;SAAdW,K","sourcesContent":["import React, {Component} from 'react';\n\nimport logo from './logo.svg';\nimport './Login.css';\nimport auth from './firebase'\nimport App from './App'\n\nexport const logoutUser = () => {\n    auth().signOut()\n}\n\nconst FBprovider = new auth.FacebookAuthProvider()\nauth().setPersistence(auth.Auth.Persistence.SESSION)\n\n\nexport default class Login extends Component {\n\n    state = {\n        user: auth().currentUser,\n        loading: true\n    };\n\n    loginFB = () => {\n        auth().signInWithPopup(FBprovider)\n            .then(({user}) => {\n                this.setState({user})\n            })\n    };\n\n    componentDidMount() {\n        this.setAuthObserver();\n    }\n\n    setAuthObserver() {\n        return auth().onAuthStateChanged(user => this.setState({user, loading: false}));\n    }\n\n    render() {\n         const {user} = this.state;\n        if (this.state.loading ) { return null; }\n\n        if (user) {\n            return (\n                <div>\n                    <App user={user}/>\n                </div>\n            )\n        } else {\n            return ( <div className=\"App\">\n                <header className=\"App-header\">\n                    <img src={logo} className=\"App-logo\" alt=\"logo\"/>\n                    <p>\n                        Not logged in\n                    </p>\n                    <button onClick={() => {\n                        this.loginFB()\n                    }} type=\"button\" class=\"btn btn-primary\">Login\n                    </button>\n                </header>\n            </div>)\n        }\n\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}